{"is_source_file": true, "format": "TypeScript", "description": "This file defines the main Angular component 'BreatheEaseMainComponent' for the BreatheEase application. It manages the application state, user interactions for the breathing test (BOLT test), score storage, navigation between views, and health insights. It also includes UI theme configurations and methods for controlling the test flow, score handling, and user feedback.", "external_files": ["./breathe-ease-main.component.html", "./breathe-ease-main.component.css"], "external_methods": ["window.setTimeout", "window.setInterval", "window.clearInterval", "window.localStorage.getItem", "window.localStorage.setItem"], "published": ["startTest", "beginCountdown", "finishTest", "saveScore", "switchTab", "getInsight"], "classes": [{"name": "BreatheEaseMainComponent", "description": "Main component that manages UI state and core functionality for the breathing test application, including test flow control, score management, tab navigation, and health insights."}], "methods": [{"name": "startTest", "description": "Initiates the breathing test by moving to the instructions step and resetting relevant state."}, {"name": "beginCountdown", "description": "Starts the countdown before the test begins."}, {"name": "runCountdown", "description": "Handles the countdown timer, updating the countdown value every second, and transitions to the 'hold' phase."}, {"name": "startHolding", "description": "Begins timing the breath-hold phase."}, {"name": "finishTest", "description": "Ends the testing phase, calculates the duration of hold, stops timers, and updates the test result state."}, {"name": "saveScore", "description": "Records the latest score with current date into local storage and resets relevant state."}, {"name": "loadScores", "description": "Retrieves stored scores from local storage or returns an empty array if none found."}, {"name": "saveScores", "description": "Stores current scores array into local storage."}, {"name": "switchTab", "description": "Switches the view between test, history, and insights tabs."}, {"name": "getInsight", "description": "Provides health insight data based on the latest scores with tailored messages and colors."}], "calls": ["window.setTimeout", "window.setInterval", "window.clearInterval", "window.localStorage.getItem", "window.localStorage.setItem"], "search-terms": ["BreatheEaseMainComponent", "breathing test", "score storage", "BOLT test", "health insights", "Angular component", "breathing app", "test flow control", "score history", "UI theme colors"], "state": 2, "file_id": 23, "knowledge_revision": 55, "git_revision": "1b66ae49c6b4e8bc411ba1ea48341a9a481b6fc6", "revision_history": [{"47": "7617b9091bbdcf5b399b879862770a433f15f196"}, {"55": "1b66ae49c6b4e8bc411ba1ea48341a9a481b6fc6"}], "ctags": [{"_type": "tag", "name": "BreatheEaseMainComponent", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^export class BreatheEaseMainComponent {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "boltResult", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  boltResult: number | null = null;$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "boltScores", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  boltScores: Array<{ date: string, score: number }> = this.loadScores();$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "countdown", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  countdown: number = 3; \\/\\/ For pre-test countdown$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "currentTab", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  currentTab: 'test' | 'history' | 'insights' = 'test';$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "dstr", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^      const dstr = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "duration", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^      const duration = Math.round((Date.now() - this.testStartTime) \\/ 1000);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "latest", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^    const latest = this.boltScores[this.boltScores.length - 1].score;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^      const s = window.localStorage.getItem('boltScores');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "testStartTime", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  testStartTime: number | null = null;$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "testStep", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  testStep: 'intro' | 'instructions' | 'countdown' | 'hold' | 'result' = 'intro';$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "timer", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  timer: any = null;$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}, {"_type": "tag", "name": "today", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^      const today = new Date();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "userInputName", "path": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "pattern": "/^  userInputName: string = '';$/", "language": "TypeScript", "kind": "property", "scope": "BreatheEaseMainComponent", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/breatheease-15886-5d32db84/breatheelapse/src/app/breathe-ease-main.component.ts", "hash": "b10a18417c00f10cf0bb2180a98ed170", "format-version": 4, "code-base-name": "default", "fields": [{"name": "boltResult: number | null = null;", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "boltScores: Array<{ date: string, score: number }> = this.loadScores();", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "countdown: number = 3; \\/\\/ For pre-test countdown", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "currentTab: 'test' | 'history' | 'insights' = 'test';", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "testStartTime: number | null = null;", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "testStep: 'intro' | 'instructions' | 'countdown' | 'hold' | 'result' = 'intro';", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "timer: any = null;", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "userInputName: string = '';", "scope": "BreatheEaseMainComponent", "scopeKind": "class", "description": "unavailable"}]}